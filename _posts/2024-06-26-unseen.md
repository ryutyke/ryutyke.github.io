---
title: "[Game] Project Unseen (진행 중)"
excerpt: "2024년에 Unreal Engine으로 만든 게임입니다. Unreal Engine C++과 GAS를 공부했습니다."

categories:
  - Portfolio
  - pfunrealengine
tags:
  - [Portfolio, Game, UnrealEngine, GAS]

permalink: /Portfolio/ProjectUnseen/

toc: true
toc_sticky: true

date: 2024-06-26 18:10:00
last_modified_at: 2024-06-26
---
<br>

<!--
<div>
    <img src="/assets/images/post_img/Unseen/thumbnail.png" alt="" width="100%" min-width="700px" itemprop="image">
</div>
-->

<iframe width="560" height="315" src="https://www.youtube.com/embed/0_6qmqv-SVI?si=2MtDKukVsmPj7LuQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

(영상이 아직 노트북으로밖에 못 찍어서 렉이 많이 걸립니다.)
- 게임 영상 : [https://www.youtube.com/watch?v=0_6qmqv-SVI](https://www.youtube.com/watch?v=0_6qmqv-SVI)
- github 링크 : [https://github.com/futurelabunseen/C-SeunghyeonRyu](https://github.com/futurelabunseen/C-SeunghyeonRyu)

<br>


Unreal Engine C++과 Gameplay ability system을 사용해서 만든 게임입니다.
<br>
## 게임의 장르 
TPS, 소울라이크(보스 사냥)

## 개발 기간
2024.04 ~ 2024.06 (기획 및 개발 약 한 달 소요)

## 플레이어의 조작 
마우스 : 조준, 사격
스페이스바 : 구르기, 백스텝 (회피)
Shift : 달리기
P : 상점

## 구현
<br>

### 공격과 회피
<div>
    <img src="/assets/images/posts_img/Unseen/roll.png" alt="1" width="100%" min-width="700px" itemprop="image">
</div>

### Gameplay Ability System
유연한 구조, 효율적인 개발

- Abilities 사이 우선순위 구현
- Gameplay Tag를 사용한 공격 회피
- Gameplay Effects를 사용한 Attribute 관리
- Target Actor를 사용하여 HitCheck

<br>

### 보스 패턴 구현
Behavior Tree, 나이아가라 시스템 사용

<br>

### Projectile
<div>
    <img src="/assets/images/posts_img/Unseen/projectile.png" alt="2" width="100%" min-width="700px" itemprop="image">
</div>

Projectile 사용
- 총구에서 Spawn
- 카메라가 보는 방향으로 LineTrace하여 나온 HitResult를 사용하여 Projectile 방향 계산

Projectile 오브젝트 풀링 구현
- 게임 시작 시 일정 수의 총알 스폰 및 Push
- Pool이 빈 상태일 때 Pull 요청 시 Expand
- Projectile이 다른 Actor에 충돌 시 Push
- Projectile 생성 후 일정 시간이 지나면 Push
- Shoot 시 Pool에서 Projectile을 Pull


### 총기 반동 시스템
<div>
    <img src="/assets/images/posts_img/Unseen/recoilsystem.png" alt="3" width="100%" min-width="700px" itemprop="image">
</div>

두 가지 방식의 반동 구현

1. 컨트롤러 Input 강제 입력
=> 수직 반동
 
2. 조준선 벌어짐에 따라 사격 범위 넓어짐
 수평 반동

<br>

### 수평 반동
그림 1
<div>
    <img src="/assets/images/posts_img/Unseen/triangle.png" alt="4" width="100%" min-width="700px" itemprop="image">
</div>



그림 2
<div>
    <img src="/assets/images/posts_img/Unseen/recoilex.png" alt="5" width="100%" min-width="700px" itemprop="image">
</div>

A : 크로스헤어 상으로 Recoil 길이 
(그림 2 노란 선)

B : 거리에 따라 벌어지는 Recoil 적용 길이 (그림 2 초록 선)

C : UI와 카메라 사이 거리를 구할 수 없기에 경험적 Variable

D : 카메라 LineTrace의 HitResult.Distance

삼각형의 닮음을 사용해서 조준선의 벌어진 정도와 총알의 수평 최대 범위 일치시킴

<br>

### 약점(치명타) 시스템
<div>
    <img src="/assets/images/posts_img/Unseen/critical.png" alt="6" width="100%" min-width="700px" itemprop="image">
</div>

스켈레탈 메시 구분을 통한 약점 구현

ApplyPointDamage를 사용하여 충격 지점에 약점 여부에 따른 색상 적용하여 데미지 UI 구현

<br>

### 능력치 강화 시스템
<div>
    <img src="/assets/images/posts_img/Unseen/shop.png" alt="7" width="100%" min-width="700px" itemprop="image">
</div>

획득한 재화를 사용하여, 
- 사격속도 증가 
- 반동 감소 
- 총알 구매
